(this.webpackJsonpblackpearl=this.webpackJsonpblackpearl||[]).push([[0],{32:function(e,t,c){},33:function(e,t,c){},59:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),r=c(12),a=c.n(r),o=(c(32),c(5)),i=(c(33),c(3)),l=c.n(i),u=c(0);var h=c(13),d=c(26),j=c(8),b=c(14),f=Object(b.b)({name:"watchlist",initialState:{stockprices:{},searchterm:"",searchlist:[],watchlist:[]},reducers:{setstockpricesR:function(e,t){e.stockprices=t.payload},setsearchtermR:function(e,t){e.searchterm=t.payload},setsearchlistR:function(e,t){e.searchlist=t.payload},setwatchlistR:function(e,t){e.watchlist=t.payload}}}),x=f.actions,O=x.setstockpricesR,p=x.setsearchtermR,m=x.setsearchlistR,g=x.setwatchlistR,y=f.reducer;var k=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.watchlist.stockprices})),c=Object(j.c)((function(e){return e.watchlist.searchlist})),s=Object(j.c)((function(e){return e.watchlist.searchterm})),r=Object(j.c)((function(e){return e.watchlist.watchlist})),a=function(){var t={url:"https://query2.finance.yahoo.com/v1/finance/search?q="+s+"&quotesCount=6&newsCount=0&enableFuzzyQuery=false&quotesQueryId=tss_match_phrase_query&multiQuoteQueryId=multi_quote_single_token_query&newsQueryId=news_ss_symbols&enableCb=false&enableNavLinks=false&vespaNewsTimeoutMs=600"};l.a.post("https://us-central1-stockwatch-193209.cloudfunctions.net/getstocks",t).then((function(t){e(m(t.data.quotes))}))},o=function(){l.a.request({method:"get",url:"https://us-central1-stockwatch-193209.cloudfunctions.net/stocks"}).then((function(t){console.log(t.data),e(g(t.data)),i(t.data)}))},i=function(t){var c={url:"https://query1.finance.yahoo.com/v7/finance/spark?symbols="+t.reduce((function(e,t){return""==e?t.symbol:e+","+t.symbol}),"")+"&range=1d&interval=5m&indicators=close&includeTimestamps=false&includePrePost=false&corsDomain=in.finance.yahoo.com&.tsrc=finance"};l.a.post("https://us-central1-stockwatch-193209.cloudfunctions.net/getstocks",c).then((function(t){console.log(t),console.log(t.data.spark.result[0].response[0].meta.regularMarketPrice);var c=b(t.data.spark.result);e(O(c))}))},b=function(e){return e.reduce((function(e,t){return Object(d.a)(Object(h.a)({},t.symbol,t.response[0].meta.regularMarketPrice),e)}),{})};return Object(n.useEffect)((function(){o()}),[]),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("input",{type:"text",placeholder:"Search",value:s,onChange:function(t){e(p(t.target.value)),s.length},onKeyDown:function(e){if(13===e.keyCode){if(0==s.length)return void alert("Please enter name of stock");a()}}}),Object(u.jsxs)("button",{onClick:function(){a()},children:[" ","Search"," "]}),Object(u.jsxs)("table",{border:"1px solid black;",children:[Object(u.jsx)("th",{children:"Search List"}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Exchange"}),Object(u.jsx)("th",{children:"Name"})]}),c.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.exchDisp})," ",Object(u.jsx)("td",{children:e.shortname})," ",Object(u.jsx)("td",{children:Object(u.jsx)("button",{onClick:function(){!function(e){l.a.request({method:"post",url:"https://us-central1-stockwatch-193209.cloudfunctions.net/stocks",data:e}).then((function(e){console.log(e.data),o()}))}(e)},children:"Add"})})]})}))]}),Object(u.jsx)("br",{}),Object(u.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:Object(u.jsxs)("table",{border:"1px solid black;",children:[Object(u.jsx)("tr",{children:Object(u.jsx)("th",{children:"WatchList"})}),r.length>0?Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Exchange"}),Object(u.jsx)("th",{children:"Name"}),Object(u.jsx)("th",{children:"Price"})]}):null,r.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.exchDisp})," ",Object(u.jsx)("td",{children:e.shortname})," ",Object(u.jsxs)("td",{children:[t[e.symbol],"  "]}),Object(u.jsx)("td",{children:Object(u.jsx)("button",{onClick:function(){return t=e.symbol,void l.a.request({method:"post",url:"https://us-central1-stockwatch-193209.cloudfunctions.net/stocks/delete/"+t}).then((function(e){console.log(e.data),o()}));var t},children:"Remove"})})]})}))]})})]})};var w=function(){var e=s.a.useState(""),t=Object(o.a)(e,2),c=t[0],r=t[1],a=s.a.useState([]),i=Object(o.a)(a,2),h=i[0],d=i[1],j=s.a.useState([]),b=Object(o.a)(j,2),f=(b[0],b[1]),x=s.a.useState([]),O=Object(o.a)(x,2),p=O[0],m=O[1],g=function(){if(0!=c.length){var e="https://query2.finance.yahoo.com/v1/finance/search?q="+c+"&quotesCount=6&newsCount=0&enableFuzzyQuery=false&quotesQueryId=tss_match_phrase_query&multiQuoteQueryId=multi_quote_single_token_query&newsQueryId=news_ss_symbols&enableCb=false&enableNavLinks=false&vespaNewsTimeoutMs=600";l.a.request({method:"get",url:"https://api.allorigins.win/get?url=".concat(encodeURIComponent(e))}).then((function(e){console.log(e),d(JSON.parse(e.data.contents).quotes)}))}else alert("Please enter name of stock")},y=function(){l.a.request({method:"get",url:"https://us-central1-stockwatch-193209.cloudfunctions.net/stocks"}).then((function(e){console.log(e.data),f(e.data)}))};return Object(n.useEffect)((function(){y(),l.a.request({method:"get",url:"https://us-central1-stockwatch-193209.cloudfunctions.net/strategy"}).then((function(e){console.log(e.data),m(e.data)}))}),[]),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:["\xa0\xa0",Object(u.jsxs)("table",{border:"1px solid black;",children:[Object(u.jsx)("tr",{children:Object(u.jsx)("th",{children:"Strategy"})}),p.length>0?Object(u.jsx)("tr",{children:Object(u.jsx)("th",{children:"Name"})}):null,p.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.name}),Object(u.jsx)("td",{children:Object(u.jsx)("button",{onClick:function(){},children:"Remove"})})]})}))]})]}),p.map((function(e){return Object(u.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"green",width:100,height:40,color:"white",borderRadius:30,margin:15},children:e.name})})),Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"30%",marginLeft:10},children:[Object(u.jsx)("input",{type:"text",placeholder:"Search",value:c,onChange:function(e){r(e.target.value)},onKeyDown:function(e){13===e.keyCode&&g()}}),Object(u.jsxs)("button",{style:{width:"40%",marginTop:2},onClick:function(){g()},children:[" ","Search"," "]})]}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsxs)("table",{border:"1px solid black;",children:[Object(u.jsx)("th",{children:"SearchList"}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Exchange"}),Object(u.jsx)("th",{children:"Name"})," ",Object(u.jsx)("th",{children:"Price"})]}),h.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.exchDisp})," ",Object(u.jsx)("td",{children:e.shortname})," ",Object(u.jsxs)("td",{children:[e.score,"  "]}),Object(u.jsx)("td",{children:Object(u.jsx)("button",{onClick:function(){!function(e){l.a.request({method:"post",url:"https://us-central1-stockwatch-193209.cloudfunctions.net/stocks",data:e}).then((function(e){console.log(e.data),y()}))}(e)},children:"Add"})})]})}))]})]})},v=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,60)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,a=t.getTTFB;c(e),n(e),s(e),r(e),a(e)}))},q=c(9),C=c(2),_=Object(b.a)({reducer:{watchlist:y}});function S(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"Black Pearl"}),Object(u.jsxs)("nav",{style:{paddingBottom:"1rem"},children:[Object(u.jsx)(q.b,{to:"/bp/watchlist",children:"WatchList"})," |","  ",Object(u.jsx)(q.b,{to:"/bp/strategies",children:"Strategies"})]})]})}a.a.render(Object(u.jsx)(j.a,{store:_,children:Object(u.jsxs)(q.a,{children:[Object(u.jsx)(S,{}),Object(u.jsx)(C.c,{children:Object(u.jsxs)(C.a,{path:"/",children:[Object(u.jsx)(C.a,{path:"/bp/watchlist",element:Object(u.jsx)(k,{})}),Object(u.jsx)(C.a,{path:"/bp/strategies",element:Object(u.jsx)(w,{})})]})})]})}),document.getElementById("root")),v()}},[[59,1,2]]]);
//# sourceMappingURL=main.35834350.chunk.js.map