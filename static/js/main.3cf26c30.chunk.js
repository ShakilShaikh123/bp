(this.webpackJsonpblackpearl=this.webpackJsonpblackpearl||[]).push([[0],{34:function(t,e,c){},35:function(t,e,c){},62:function(t,e,c){"use strict";c.r(e);var n=c(1),s=c.n(n),r=c(15),a=c.n(r),i=(c(34),c(5)),l=(c(35),c(3)),o=c.n(l),u=c(0);var h=c(6),d=c(10),j=c(16),b=c(29),f=c(9),x=c.n(f),p=c(11),O=Object(d.b)("fetchByIdStatus",function(){var t=Object(p.a)(x.a.mark((function t(e,c){var n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("https://us-central1-stockwatch-193209.cloudfunctions.net/stocks");case 2:return n=t.sent,e(n.data),t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)})));return function(e,c){return t.apply(this,arguments)}}()),m=Object(d.b)("getStocksDetailsApi",function(){var t=Object(p.a)(x.a.mark((function t(e,c){var n,s,r,a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.reduce((function(t,e){return""==t?e.symbol:t+","+e.symbol}),""),s={url:"https://query1.finance.yahoo.com/v7/finance/spark?symbols="+n+"&range=1d&interval=5m&indicators=close&includeTimestamps=false&includePrePost=false&corsDomain=in.finance.yahoo.com&.tsrc=finance"},t.next=5,o.a.post("https://us-central1-stockwatch-193209.cloudfunctions.net/getstocks",s);case 5:return r=t.sent,c=r.data.spark.result,a=c.reduce((function(t,e){return Object(b.a)(Object(j.a)({},e.symbol,e.response[0].meta.regularMarketPrice),t)}),{}),t.abrupt("return",a);case 8:case"end":return t.stop()}var c}),t)})));return function(e,c){return t.apply(this,arguments)}}()),y=Object(d.b)("addstocktowatchlist",function(){var t=Object(p.a)(x.a.mark((function t(e,c){var n,s,r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.stock,s=e.callback,t.next=3,o.a.post("https://us-central1-stockwatch-193209.cloudfunctions.net/stocks",n);case 3:return r=t.sent,s(),t.abrupt("return",r.status);case 6:case"end":return t.stop()}}),t)})));return function(e,c){return t.apply(this,arguments)}}()),k=Object(d.b)("removestockfromwatchlist",function(){var t=Object(p.a)(x.a.mark((function t(e,c){var n,s,r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.stockSymbol,s=e.callback,t.next=3,o.a.post("https://us-central1-stockwatch-193209.cloudfunctions.net/stocks/delete/"+n);case 3:return r=t.sent,s(),t.abrupt("return",r.status);case 6:case"end":return t.stop()}}),t)})));return function(e,c){return t.apply(this,arguments)}}()),w=Object(d.b)("searchstockApi",function(){var t=Object(p.a)(x.a.mark((function t(e,c){var n,s,r,a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.searchTermR,s=e.callback,r={url:"https://query2.finance.yahoo.com/v1/finance/search?q="+n+"&quotesCount=6&newsCount=0&enableFuzzyQuery=false&quotesQueryId=tss_match_phrase_query&multiQuoteQueryId=multi_quote_single_token_query&newsQueryId=news_ss_symbols&enableCb=false&enableNavLinks=false&vespaNewsTimeoutMs=600"},t.next=5,o.a.post("https://us-central1-stockwatch-193209.cloudfunctions.net/getstocks",r);case 5:return a=t.sent,s(),t.abrupt("return",a.data.quotes);case 8:case"end":return t.stop()}}),t)})));return function(e,c){return t.apply(this,arguments)}}()),v=Object(d.c)({name:"watchlist",initialState:{stockprices:{},searchterm:"",searchlist:[],watchlist:[]},reducers:{setsearchtermR:function(t,e){t.searchterm=e.payload}},extraReducers:function(t){t.addCase(O.fulfilled,(function(t,e){t.watchlist=e.payload})),t.addCase(m.fulfilled,(function(t,e){t.stockprices=e.payload})),t.addCase(y.fulfilled,(function(t,e){})),t.addCase(k.fulfilled,(function(t,e){})),t.addCase(w.fulfilled,(function(t,e){t.searchlist=e.payload}))}}),g=v.actions.setsearchtermR,C=v.reducer;var q=function(){var t=Object(h.b)(),e=Object(h.c)((function(t){return t.watchlist.stockprices})),c=Object(h.c)((function(t){return t.watchlist.searchlist})),s=Object(h.c)((function(t){return t.watchlist.searchterm})),r=Object(h.c)((function(t){return t.watchlist.watchlist})),a=function(){var e={};e.searchTermR=s+"",e.callback=function(){},t(w(e))};return Object(n.useEffect)((function(){t(O((function(e){t(m(e))})))}),[]),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("input",{type:"text",placeholder:"Search",value:s,onChange:function(e){t(g(e.target.value)),s.length},onKeyDown:function(t){if(13===t.keyCode){if(0==s.length)return void alert("Please enter name of stock");a()}}}),Object(u.jsxs)("button",{onClick:function(){a()},children:[" ","Search"," "]}),Object(u.jsxs)("table",{border:"1px solid black;",children:[Object(u.jsx)("th",{children:"Search List"}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Exchange"}),Object(u.jsx)("th",{children:"Name"})]}),c.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.exchDisp})," ",Object(u.jsx)("td",{children:e.shortname})," ",Object(u.jsx)("td",{children:Object(u.jsx)("button",{onClick:function(){var c={};c.stock=e,c.callback=function(){t(O((function(e){t(m(e))})))},t(y(c))},children:"Add"})})]})}))]}),Object(u.jsx)("br",{}),Object(u.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:Object(u.jsxs)("table",{border:"1px solid black;",children:[Object(u.jsx)("tr",{children:Object(u.jsx)("th",{children:"WatchList"})}),r.length>0?Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Exchange"}),Object(u.jsx)("th",{children:"Name"}),Object(u.jsx)("th",{children:"Price"})]}):null,r.map((function(c){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:c.exchDisp})," ",Object(u.jsx)("td",{children:c.shortname})," ",Object(u.jsxs)("td",{children:[e[c.symbol],"  "]}),Object(u.jsx)("td",{children:Object(u.jsx)("button",{onClick:function(){return function(e){var c={};c.stockSymbol=e,c.callback=function(){t(O((function(e){t(m(e))})))},t(k(c))}(c.symbol)},children:"Remove"})})]})}))]})})]})};var S=function(){var t=Object(h.b)(),e=s.a.useState(""),c=Object(i.a)(e,2),r=c[0],a=c[1],l=s.a.useState([]),d=Object(i.a)(l,2),j=(d[0],d[1]),b=s.a.useState([]),f=Object(i.a)(b,2),x=(f[0],f[1]),p=s.a.useState([]),k=Object(i.a)(p,2),w=k[0],v=k[1],g=Object(h.c)((function(t){return t.watchlist.stockprices})),C=Object(h.c)((function(t){return t.watchlist.searchlist})),q=(Object(h.c)((function(t){return t.watchlist.searchterm})),Object(h.c)((function(t){return t.watchlist.watchlist}))),S=function(t){a(t.target.value)},_=function(t){13===t.keyCode&&D()},D=function(){if(0!=r.length){var t="https://query2.finance.yahoo.com/v1/finance/search?q="+r+"&quotesCount=6&newsCount=0&enableFuzzyQuery=false&quotesQueryId=tss_match_phrase_query&multiQuoteQueryId=multi_quote_single_token_query&newsQueryId=news_ss_symbols&enableCb=false&enableNavLinks=false&vespaNewsTimeoutMs=600";o.a.request({method:"get",url:"https://api.allorigins.win/get?url=".concat(encodeURIComponent(t))}).then((function(t){console.log(t),j(JSON.parse(t.data.contents).quotes)}))}else alert("Please enter name of stock")},N=function(){o.a.request({method:"get",url:"https://us-central1-stockwatch-193209.cloudfunctions.net/stocks"}).then((function(t){console.log(t.data),x(t.data)}))};return Object(n.useEffect)((function(){N(),o.a.request({method:"get",url:"https://us-central1-stockwatch-193209.cloudfunctions.net/strategy"}).then((function(t){console.log(t.data),v(t.data)}))}),[]),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginLeft:10},children:[Object(u.jsx)("input",{style:{width:"300px"},type:"text",placeholder:"Strategy Name",value:r,onChange:S,onKeyDown:_}),Object(u.jsx)("button",{style:{width:"100px",marginTop:2},onClick:function(){D()},children:"Add Strategy"})]}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:["\xa0\xa0",Object(u.jsxs)("table",{border:"1px solid black;",children:[Object(u.jsx)("tr",{children:Object(u.jsx)("th",{children:"\xa0\xa0Strategy\xa0\xa0"})}),w.length>0?Object(u.jsx)("tr",{children:Object(u.jsx)("th",{children:"Name"})}):null,w.map((function(t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:t.name}),Object(u.jsx)("td",{children:Object(u.jsx)("button",{onClick:function(){},children:"Remove"})})]})}))]})]}),w.map((function(t){return Object(u.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"green",width:100,height:40,color:"white",borderRadius:30,margin:15},children:t.name})})),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"30%",marginLeft:10},children:[Object(u.jsx)("input",{type:"text",placeholder:"Search",value:r,onChange:S,onKeyDown:_}),Object(u.jsxs)("button",{style:{width:"40%",marginTop:2},onClick:function(){D()},children:[" ","Search"," "]})]}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsxs)("table",{border:"1px solid black;",children:[Object(u.jsx)("th",{children:"Search List"}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Exchange"}),Object(u.jsx)("th",{children:"Name"})]}),C.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.exchDisp})," ",Object(u.jsx)("td",{children:e.shortname})," ",Object(u.jsx)("td",{children:Object(u.jsx)("button",{onClick:function(){var c={};c.stock=e,c.callback=function(){t(O((function(e){t(m(e))})))},t(y(c))},children:"Add"})})]})}))]}),Object(u.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:Object(u.jsxs)("table",{border:"1px solid black;",children:[Object(u.jsx)("tr",{children:Object(u.jsx)("th",{children:"WatchList"})}),q.length>0?Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Exchange"}),Object(u.jsx)("th",{children:"Name"}),Object(u.jsx)("th",{children:"Price"})]}):null,q.map((function(t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:t.exchDisp})," ",Object(u.jsx)("td",{children:t.shortname})," ",Object(u.jsxs)("td",{children:[g[t.symbol],"  "]}),Object(u.jsx)("td",{children:Object(u.jsx)("button",{onClick:function(){return e=t.symbol,void o.a.request({method:"post",url:"https://us-central1-stockwatch-193209.cloudfunctions.net/stocks/delete/"+e}).then((function(t){console.log(t.data),N()}));var e},children:"Remove"})})]})}))]})})]})},_=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,63)).then((function(e){var c=e.getCLS,n=e.getFID,s=e.getFCP,r=e.getLCP,a=e.getTTFB;c(t),n(t),s(t),r(t),a(t)}))},D=c(12),N=c(2),I=Object(d.a)({reducer:{watchlist:C}});function L(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"Black Pearl"}),Object(u.jsxs)("nav",{style:{paddingBottom:"1rem"},children:[Object(u.jsx)(D.b,{to:"/bp/watchlist",children:"WatchList"})," |","  ",Object(u.jsx)(D.b,{to:"/bp/strategies",children:"Strategies"})]})]})}a.a.render(Object(u.jsx)(h.a,{store:I,children:Object(u.jsxs)(D.a,{children:[Object(u.jsx)(L,{}),Object(u.jsx)(N.c,{children:Object(u.jsxs)(N.a,{path:"/",children:[Object(u.jsx)(N.a,{path:"/bp/watchlist",element:Object(u.jsx)(q,{})}),Object(u.jsx)(N.a,{path:"/bp/strategies",element:Object(u.jsx)(S,{})})]})})]})}),document.getElementById("root")),_()}},[[62,1,2]]]);
//# sourceMappingURL=main.3cf26c30.chunk.js.map