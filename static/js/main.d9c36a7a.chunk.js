(this.webpackJsonpblackpearl=this.webpackJsonpblackpearl||[]).push([[0],{34:function(t,e,n){},35:function(t,e,n){},62:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n.n(c),a=n(15),s=n.n(a),i=(n(34),n(6)),o=(n(35),n(3)),l=n.n(o),u=n(0);var d=n(8),h=n(5),j=n(16),b=n(29),f=n(4),p=n.n(f),x=n(11),O=Object(h.b)("fetchByIdStatus",function(){var t=Object(x.a)(p.a.mark((function t(e,n){var c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.get("https://us-central1-stockwatch-193209.cloudfunctions.net/stocks");case 2:return c=t.sent,e(c.data),t.abrupt("return",c.data);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),m=Object(h.b)("getStocksDetailsApi",function(){var t=Object(x.a)(p.a.mark((function t(e,n){var c,r,a,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.reduce((function(t,e){return""==t?e.symbol:t+","+e.symbol}),""),r={url:"https://query1.finance.yahoo.com/v7/finance/spark?symbols="+c+"&range=1d&interval=5m&indicators=close&includeTimestamps=false&includePrePost=false&corsDomain=in.finance.yahoo.com&.tsrc=finance"},t.next=5,l.a.post("https://us-central1-stockwatch-193209.cloudfunctions.net/getstocks",r);case 5:return a=t.sent,n=a.data.spark.result,s=n.reduce((function(t,e){return Object(b.a)(Object(j.a)({},e.symbol,e.response[0].meta.regularMarketPrice),t)}),{}),t.abrupt("return",s);case 8:case"end":return t.stop()}var n}),t)})));return function(e,n){return t.apply(this,arguments)}}()),y=Object(h.b)("addstocktowatchlist",function(){var t=Object(x.a)(p.a.mark((function t(e,n){var c,r,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.stock,r=e.callback,t.next=3,l.a.post("https://us-central1-stockwatch-193209.cloudfunctions.net/stocks",c);case 3:return a=t.sent,r(),t.abrupt("return",a.status);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),v=Object(h.b)("removestockfromwatchlist",function(){var t=Object(x.a)(p.a.mark((function t(e,n){var c,r,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.stockSymbol,r=e.callback,t.next=3,l.a.post("https://us-central1-stockwatch-193209.cloudfunctions.net/stocks/delete/"+c);case 3:return a=t.sent,r(),t.abrupt("return",a.status);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),g=Object(h.b)("searchstockApi",function(){var t=Object(x.a)(p.a.mark((function t(e,n){var c,r,a,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.searchTermR,r=e.callback,a={url:"https://query2.finance.yahoo.com/v1/finance/search?q="+c+"&quotesCount=6&newsCount=0&enableFuzzyQuery=false&quotesQueryId=tss_match_phrase_query&multiQuoteQueryId=multi_quote_single_token_query&newsQueryId=news_ss_symbols&enableCb=false&enableNavLinks=false&vespaNewsTimeoutMs=600"},t.next=5,l.a.post("https://us-central1-stockwatch-193209.cloudfunctions.net/getstocks",a);case 5:return s=t.sent,r(),t.abrupt("return",s.data.quotes);case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),k=Object(h.b)("getStockChartData",function(){var t=Object(x.a)(p.a.mark((function t(e,n){var c,r,a,s,i,o,u;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.symbol,r=e.sevendayprevts,a=e.currentdatets,s=e.callback,i="https://query2.finance.yahoo.com/v8/finance/chart/"+c+"?formatted=true&lang=en-US&region=US&includeAdjustedClose=true&interval=1d&period1="+r+"&period2="+a+"&events=capitalGain%7Cdiv%7Csplit&useYfid=true&corsDomain=finance.yahoo.com",console.log("URL: ",i),o={url:i},t.next=6,l.a.post("https://us-central1-stockwatch-193209.cloudfunctions.net/getstocks",o);case 6:return u=t.sent,s(),t.abrupt("return",u);case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),w=Object(h.c)({name:"watchlist",initialState:{stockprices:{},searchterm:"",searchlist:[],watchlist:[],chartData:{}},reducers:{setsearchtermR:function(t,e){t.searchterm=e.payload}},extraReducers:function(t){t.addCase(O.fulfilled,(function(t,e){t.watchlist=e.payload})),t.addCase(m.fulfilled,(function(t,e){t.stockprices=e.payload})),t.addCase(y.fulfilled,(function(t,e){})),t.addCase(v.fulfilled,(function(t,e){})),t.addCase(g.fulfilled,(function(t,e){t.searchlist=e.payload})),t.addCase(k.fulfilled,(function(t,e){console.log("Success Action: ",e.payload);var n=e.payload.data.chart.result[0].meta.symbol;t.chartData[n]=e.payload}))}}),C=w.actions.setsearchtermR,S=w.reducer;var D=function(){var t=Object(d.b)(),e=Object(d.c)((function(t){return t.watchlist.stockprices})),n=Object(d.c)((function(t){return t.watchlist.searchlist})),r=Object(d.c)((function(t){return t.watchlist.searchterm})),a=Object(d.c)((function(t){return t.watchlist.watchlist})),s=Object(d.c)((function(t){return t.watchlist.chartData})),i=function(){var e={};e.searchTermR=r+"",e.callback=function(){},t(g(e))};return Object(c.useEffect)((function(){t(O((function(e){t(m(e))})))}),[]),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("input",{type:"text",placeholder:"Search",value:r,onChange:function(e){t(C(e.target.value)),r.length},onKeyDown:function(t){if(13===t.keyCode){if(0==r.length)return void alert("Please enter name of stock");i()}}}),Object(u.jsxs)("button",{onClick:function(){i()},children:[" ","Search"," "]}),Object(u.jsxs)("table",{border:"1px solid black;",children:[Object(u.jsx)("th",{children:"Search List"}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Exchange"}),Object(u.jsx)("th",{children:"Name"})]}),n.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.exchDisp})," ",Object(u.jsx)("td",{children:e.shortname})," ",Object(u.jsx)("td",{children:Object(u.jsx)("button",{onClick:function(){var n={};n.stock=e,n.callback=function(){t(O((function(e){t(m(e))})))},t(y(n))},children:"Add"})})]})}))]}),Object(u.jsx)("br",{}),Object(u.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:Object(u.jsxs)("table",{border:"1px solid black;",children:[Object(u.jsx)("tr",{children:Object(u.jsx)("th",{children:"WatchList"})}),a.length>0?Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{}),Object(u.jsx)("th",{children:"Exchange"}),Object(u.jsx)("th",{children:"Name"}),Object(u.jsx)("th",{children:"Price"}),Object(u.jsx)("th",{}),Object(u.jsx)("th",{children:"SL"}),Object(u.jsx)("th",{children:"TARGET"}),Object(u.jsx)("th",{children:"  ENTRY  "}),Object(u.jsx)("th",{children:"Profit%"}),Object(u.jsx)("th",{children:"Risk.Amt"}),Object(u.jsx)("th",{children:"Qty"})]}):null,a.map((function(n){var c=[],r=0,a=0,i=e[n.symbol],o=0;if(console.log("ChartData: ",JSON.stringify(s)),s&&s[n.symbol]){var l=(c=s[n.symbol].data.chart.result[0].indicators.quote[0].low).at(-1),d=c.at(-2);a=2*(i-(r=d<l?d-1:l-1))+i,o=2*(i-r)/i*100}return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:Object(u.jsx)("button",{onClick:function(){return function(e){var n={};n.stockSymbol=e,n.callback=function(){t(O((function(e){t(m(e))})))},t(v(n))}(n.symbol)},children:"Remove"})}),Object(u.jsx)("td",{children:n.exchDisp})," ",Object(u.jsx)("td",{children:n.shortname})," ",Object(u.jsxs)("td",{children:[e[n.symbol],"  "]}),Object(u.jsx)("td",{children:Object(u.jsx)("button",{onClick:function(){var e={};e.symbol=n.symbol,e.sevendayprevts=Math.round(new Date(Date.now()-6048e5).getTime()/1e3),e.currentdatets=Math.round((new Date).getTime()/1e3),console.log("Seven day prev time: ",Math.round(new Date(Date.now()-6048e5).getTime()/1e3)),e.callback=function(){},t(k(e))},children:"Calculate"})}),Object(u.jsx)("td",{children:Math.round(r)}),Object(u.jsx)("td",{children:Math.round(a)}),Object(u.jsx)("td",{children:Math.round(i)}),Object(u.jsx)("td",{children:Math.round(o)})]})}))]})})]})},q=Object(h.b)("getstrategies",function(){var t=Object(x.a)(p.a.mark((function t(e,n){var c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.get("https://us-central1-stockwatch-193209.cloudfunctions.net/strategy");case 2:return c=t.sent,e(c.data),t.abrupt("return",c.data);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),_=Object(h.b)("deletestrategy",function(){var t=Object(x.a)(p.a.mark((function t(e,n){var c,r,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.strategy,r=e.callback,t.next=3,l.a.post("https://us-central1-stockwatch-193209.cloudfunctions.net/strategy/delete",c);case 3:return a=t.sent,r(a.data),t.abrupt("return",a.data);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),T=Object(h.b)("addstrategy",function(){var t=Object(x.a)(p.a.mark((function t(e,n){var c,r,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.strategy,r=e.callback,t.next=3,l.a.post("https://us-central1-stockwatch-193209.cloudfunctions.net/strategy",c);case 3:return a=t.sent,r(a.data),t.abrupt("return",a.data);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());var N=function(){var t=Object(d.b)(),e=r.a.useState(""),n=Object(i.a)(e,2),a=n[0],s=n[1],o=r.a.useState([]),h=Object(i.a)(o,2),j=(h[0],h[1]),b=r.a.useState([]),f=Object(i.a)(b,2),p=(f[0],f[1],r.a.useState([])),x=Object(i.a)(p,2),v=(x[0],x[1],r.a.useState("")),g=Object(i.a)(v,2),k=g[0],w=g[1],C=Object(d.c)((function(t){return t.watchlist.stockprices})),S=Object(d.c)((function(t){return t.watchlist.searchlist})),D=(Object(d.c)((function(t){return t.watchlist.searchterm})),Object(d.c)((function(t){return t.watchlist.watchlist}))),N=Object(d.c)((function(t){return t.strategies.strategies})),R=function(t){s(t.target.value)},A=function(t){13===t.keyCode&&L()},L=function(){if(0!=a.length){var t="https://query2.finance.yahoo.com/v1/finance/search?q="+a+"&quotesCount=6&newsCount=0&enableFuzzyQuery=false&quotesQueryId=tss_match_phrase_query&multiQuoteQueryId=multi_quote_single_token_query&newsQueryId=news_ss_symbols&enableCb=false&enableNavLinks=false&vespaNewsTimeoutMs=600";l.a.request({method:"get",url:"https://api.allorigins.win/get?url=".concat(encodeURIComponent(t))}).then((function(t){console.log(t),j(JSON.parse(t.data.contents).quotes)}))}else alert("Please enter name of stock")};return Object(c.useEffect)((function(){t(q((function(t){})))}),[]),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginLeft:10},children:[Object(u.jsx)("input",{style:{width:"300px"},type:"text",placeholder:"Strategy Name",value:a,onChange:R,onKeyDown:A}),Object(u.jsx)("button",{style:{width:"100px",marginTop:2},onClick:function(){var e={};e.strategy={name:a},e.callback=function(){t(q((function(t){})))},t(T(e))},children:"Add Strategy"})]}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:["\xa0\xa0",Object(u.jsxs)("table",{border:"1px solid black;",children:[Object(u.jsx)("tr",{children:Object(u.jsx)("th",{children:"\xa0\xa0Strategy\xa0\xa0"})}),N.length>0?Object(u.jsx)("tr",{children:Object(u.jsx)("th",{children:"Name"})}):null,N.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.name}),Object(u.jsx)("td",{children:Object(u.jsx)("button",{onClick:function(){var n={};n.strategy=e,n.callback=function(){t(q((function(t){})))},t(_(n))},children:"Remove"})})]})}))]})]}),Object(u.jsx)("div",{style:{display:"flex",flexDirection:"row",marginTop:20},children:N.map((function(t){return Object(u.jsx)("div",{onClick:function(){w(t.name)},style:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:k==t.name?"green":"grey",padding:"10px",color:"white",borderRadius:30,margin:10},children:t.name})}))}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"30%",marginLeft:10},children:[Object(u.jsx)("input",{type:"text",placeholder:"Search",value:a,onChange:R,onKeyDown:A}),Object(u.jsxs)("button",{style:{width:"40%",marginTop:2},onClick:function(){L()},children:[" ","Search"," "]})]}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsxs)("table",{border:"1px solid black;",children:[Object(u.jsx)("th",{children:"Search List"}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Exchange"}),Object(u.jsx)("th",{children:"Name"})]}),S.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.exchDisp})," ",Object(u.jsx)("td",{children:e.shortname})," ",Object(u.jsx)("td",{children:Object(u.jsx)("button",{onClick:function(){var n={};n.stock=e,n.callback=function(){t(O((function(e){t(m(e))})))},t(y(n))},children:"Add"})})]})}))]}),Object(u.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:Object(u.jsxs)("table",{border:"1px solid black;",children:[Object(u.jsx)("tr",{children:Object(u.jsx)("th",{children:"WatchList"})}),D.length>0?Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Exchange"}),Object(u.jsx)("th",{children:"Name"}),Object(u.jsx)("th",{children:"Price"})]}):null,D.map((function(t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:t.exchDisp})," ",Object(u.jsx)("td",{children:t.shortname})," ",Object(u.jsxs)("td",{children:[C[t.symbol],"  "]}),Object(u.jsx)("td",{children:Object(u.jsx)("button",{onClick:function(){},children:"Remove"})})]})}))]})})]})},R=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,63)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,a=e.getLCP,s=e.getTTFB;n(t),c(t),r(t),a(t),s(t)}))},A=n(12),L=n(2),I=Object(h.c)({name:"strategies",initialState:{strategies:[{name:"All Strategies"}]},reducers:{},extraReducers:function(t){t.addCase(q.fulfilled,(function(t,e){t.strategies=e.payload,t.strategies.unshift({name:"All Strategies"})})),t.addCase(_.fulfilled,(function(t,e){})),t.addCase(T.fulfilled,(function(t,e){}))}}).reducer,P=Object(h.a)({reducer:{watchlist:S,strategies:I}});function Q(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"Black Pearl"}),Object(u.jsxs)("nav",{style:{paddingBottom:"1rem"},children:[Object(u.jsx)(A.b,{to:"/bp/watchlist",children:"WatchList"})," |","  ",Object(u.jsx)(A.b,{to:"/bp/strategies",children:"Strategies"})]})]})}s.a.render(Object(u.jsx)(d.a,{store:P,children:Object(u.jsxs)(A.a,{children:[Object(u.jsx)(Q,{}),Object(u.jsx)(L.c,{children:Object(u.jsxs)(L.a,{path:"/",children:[Object(u.jsx)(L.a,{path:"/bp/watchlist",element:Object(u.jsx)(D,{})}),Object(u.jsx)(L.a,{path:"/bp/strategies",element:Object(u.jsx)(N,{})})]})})]})}),document.getElementById("root")),R()}},[[62,1,2]]]);
//# sourceMappingURL=main.d9c36a7a.chunk.js.map