{"version":3,"sources":["app/App.js","app/watchlist/watchlistApi.js","app/watchlist/watchlistslice.js","app/watchlist/index.js","app/strategies/strategiesApi.js","app/strategies/index.js","reportWebVitals.js","app/strategies/strategiesslice.js","app/store.js","app/header/index.js","index.js"],"names":["App","getwatchliststocks","createAsyncThunk","callback","thunkAPI","a","axios","get","response","data","getStocksDetailsApi","stocks","stockSymbList","reduce","result","item","symbol","body","post","stocksData","spark","priceMap","meta","regularMarketPrice","addstocktowatchlist","stock","status","removestockfromwatchlist","stockSymbol","searchstockApi","searchTermR","quotes","watchlistslice","createSlice","name","initialState","stockprices","searchterm","searchlist","watchlist","reducers","setsearchtermR","state","action","payload","extraReducers","builder","addCase","fulfilled","actions","WatchList","dispatch","useDispatch","stockpricesR","useSelector","searchlistR","watchlistR","searchStock","objP","useEffect","className","type","placeholder","value","onChange","event","target","length","onKeyDown","e","keyCode","alert","onClick","border","map","exchDisp","shortname","style","display","flexDirection","removeStock","getstrategies","deletestrategy","strategy","addstrategy","Strategies","React","useState","searchTerm","setSearchTerm","setSearchResults","strategyfilter","setStrategyFilter","strategiesR","strategies","handleChange","handleKeypress","searchApi","request","method","url","encodeURIComponent","then","console","log","JSON","parse","contents","marginLeft","width","marginTop","justifyContent","alignItems","backgroundColor","padding","color","borderRadius","margin","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","strategiesSlice","unshift","store","configureStore","reducer","watchlistReducer","strategiesReducer","Header","paddingBottom","to","ReactDOM","render","path","element","document","getElementById"],"mappings":"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","file":"static/js/main.331a9124.chunk.js","sourcesContent":["import \"./App.css\";\nimport axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\n\nconst proxyAPI2 = \"https://cors-anywhere.herokuapp.com/\";\nconst proxyAPI = \"http://thingproxy.freeboard.io/\";\nconst proxyAPI3 = \"http://www.whateverorigin.org/get?url=\";\n\nfunction App() {\n  const [searchTerm, setSearchTerm] = React.useState(\"\");\n  const [searchResults, setSearchResults] = React.useState([]);\n  const [watchList, setWatchList] = React.useState([]);\n  const [strategies, setStrategies] = React.useState([]);\n\n  const handleChange = (event) => {\n    setSearchTerm(event.target.value);\n  };\n\n  const handleKeypress = (e) => {\n    //it triggers by pressing the enter key\n    if (e.keyCode === 13) {\n      searchStock();\n    }\n  };\n\n  const searchStock = () => {\n    if (searchTerm.length == 0) {\n      alert(\"Please enter name of stock\");\n      return;\n    }\n\n    let searchApi =\n      \"https://query2.finance.yahoo.com/v1/finance/search?q=\" +\n      searchTerm +\n      \"&quotesCount=6&newsCount=0&enableFuzzyQuery=false&quotesQueryId=tss_match_phrase_query&multiQuoteQueryId=multi_quote_single_token_query&newsQueryId=news_ss_symbols&enableCb=false&enableNavLinks=false&vespaNewsTimeoutMs=600\";\n    axios\n      .request({\n        method: \"get\",\n        url: `https://api.allorigins.win/get?url=${encodeURIComponent(\n          searchApi\n        )}`,\n      })\n      .then((response) => {\n        console.log(response);\n        setSearchResults(JSON.parse(response.data.contents).quotes);\n      });\n  };\n\n  // const addStockToList = (item) => {\n  //   console.log(watchList.some(i=>i.symbol === item.symbol));\n  //   if(!watchList.some(i=>i.symbol === item.symbol))\n  //     setWatchList([item,...watchList]);\n  // };\n    \n  const addStockToList = (item) => {\n    axios\n    .request({\n      method: \"post\",\n      url: \"https://us-central1-stockwatch-193209.cloudfunctions.net/stocks\",\n      data: item,\n    })\n    .then((response) => {\n      console.log(response.data);\n      getAllStocks();\n    });    \n  };\n\n  // const removeStockFromList = (item) => {\n  //   var filtered = watchList.filter(el => { return el.symbol !== item.symbol; });\n  //     setWatchList([...filtered]);\n  // };\n\n  const getAllStocks = () => {\n    axios\n    .request({\n      method: \"get\",\n      url: \"https://us-central1-stockwatch-193209.cloudfunctions.net/stocks\",\n    })\n    .then((response) => {\n      console.log(response.data);\n      setWatchList(response.data);\n    });\n  }\n\n  const removeStock = (stockSymbol) => {\n    axios\n    .request({\n      method: \"post\",\n      url: \"https://us-central1-stockwatch-193209.cloudfunctions.net/stocks/delete/\"+stockSymbol,\n    })\n    .then((response) => {\n      console.log(response.data);\n      getAllStocks();\n    });\n  }\n\n  const getAllStrategies = () => {\n    axios\n    .request({\n      method: \"get\",\n      url: \"https://us-central1-stockwatch-193209.cloudfunctions.net/strategy\",\n    })\n    .then((response) => {\n      console.log(response.data);\n      setStrategies(response.data);\n    });\n  }\n\n  useEffect(() => {\n    getAllStocks();\n    getAllStrategies();\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <input\n        type=\"text\"\n        placeholder=\"Search\"\n        value={searchTerm}\n        onChange={handleChange}\n        onKeyDown={handleKeypress}\n      />\n      <button\n        onClick={() => {\n          searchStock();\n        }}\n      >\n        {\" \"}\n        Search{\" \"}\n      </button>\n      {/* {JSON.stringify()} */}\n      <table border=\"1px solid black;\">\n        <th>SearchList</th>\n        <tr>\n          <th>{\"Exchange\"}</th>\n          <th>{\"Name\"}</th> <th>{\"Price\"}</th>\n        </tr>\n        {searchResults.map((item) => {\n          return (\n            <tr>\n              <td>{item.exchDisp}</td> <td>{item.shortname}</td>{\" \"}\n              <td>\n                {item.score}\n                {\"  \"}\n              </td>\n              <td>\n                {\n                  <button\n                    onClick={() => {\n                      addStockToList(item);\n                    }}\n                  >\n                    Add\n                  </button>\n                }\n              </td>\n            </tr>\n          );\n        })}\n      </table>\n\n      <br/>\n      <div style={{display:\"flex\", flexDirection:\"row\"}}>\n      <table border=\"1px solid black;\">\n        <tr><th>WatchList</th></tr>\n        {watchList.length > 0 ? (\n          <tr>\n            <th>{\"Exchange\"}</th>\n            <th>{\"Name\"}</th> \n            <th>{\"Price\"}</th>\n          </tr>\n        ) : null}\n        {watchList.map((item) => {\n          return (\n            <tr>\n              <td>{item.exchDisp}</td> <td>{item.shortname}</td>{\" \"}\n              <td>\n                {item.score}\n                {\"  \"}\n              </td>\n              <td>{<button onClick={()=>removeStock(item.symbol)}>Remove</button>}</td>\n              {/* <td>{JSON.stringify(item)}</td> */}\n            </tr>\n          );\n        })}\n      </table>\n\n      &nbsp;&nbsp;\n      <table border=\"1px solid black;\">\n        <tr><th>Strategy</th></tr>\n        {strategies.length > 0 ? (\n          <tr>\n            <th>{\"Exchange\"}</th>\n            <th>{\"Name\"}</th> \n            <th>{\"Price\"}</th>\n          </tr>\n        ) : null}\n        {strategies.map((item) => {\n          return (\n            <tr>\n              <td>{item.name}</td> <td>{item.name}</td>{\" \"}\n              <td>\n                {item.score}\n                {\"  \"}\n              </td>\n              <td>{<button onClick={()=>{}}>Remove</button>}</td>\n              {/* <td>{JSON.stringify(item)}</td> */}\n            </tr>\n          );\n        })}\n      </table>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import { createAsyncThunk } from '@reduxjs/toolkit'\nimport axios from \"axios\";\n\nexport const getwatchliststocks = createAsyncThunk(\n  'fetchByIdStatus',\n  async (callback, thunkAPI) => {\n    const response = await axios.get('https://us-central1-stockwatch-193209.cloudfunctions.net/stocks');  \n    callback(response.data);\n    return response.data;\n  }\n)\n\nconst createStockPriceMap = (stocksData) => {\n    return stocksData.reduce((result, item) => {\n      return { [item.symbol]: item.response[0].meta.regularMarketPrice, ...result };\n    }, {});\n  }\n\nexport const getStocksDetailsApi = createAsyncThunk(\n    'getStocksDetailsApi',\n    async (stocks, thunkAPI) => {\n\n        let stockSymbList = stocks.reduce(function (result, item) {\n            if(result == \"\")\n            return item.symbol;\n            return result + \",\" + item.symbol;\n          }, \"\");\n      \n          let searchApi = \"https://query1.finance.yahoo.com/v7/finance/spark?symbols=\" + stockSymbList + \"&range=1d&interval=5m&indicators=close&includeTimestamps=false&includePrePost=false&corsDomain=in.finance.yahoo.com&.tsrc=finance\";\n      \n          let body = {\n            \"url\": searchApi\n          };\n\n        let response = await axios.post(`https://us-central1-stockwatch-193209.cloudfunctions.net/getstocks`, body);\n        let priceMap = createStockPriceMap(response.data.spark.result);\n\n        return priceMap;\n    }\n  )\n\n  export const addstocktowatchlist = createAsyncThunk(\n    'addstocktowatchlist',\n    async ({stock, callback}, thunkAPI) => {\n        const response = await axios.post('https://us-central1-stockwatch-193209.cloudfunctions.net/stocks', stock);  \n        callback();\n        return response.status;\n    }\n  )\n\n  export const removestockfromwatchlist = createAsyncThunk(\n    'removestockfromwatchlist',\n    async ({stockSymbol, callback}, thunkAPI) => {\n        const response = await axios.post(\"https://us-central1-stockwatch-193209.cloudfunctions.net/stocks/delete/\"+stockSymbol);  \n        callback();\n        return response.status;\n    }\n  )\n\n  export const searchstockApi = createAsyncThunk(\n    'searchstockApi',\n    async ({searchTermR, callback}, thunkAPI) => {\n        let searchApi =\n        \"https://query2.finance.yahoo.com/v1/finance/search?q=\" +\n        searchTermR +\n        \"&quotesCount=6&newsCount=0&enableFuzzyQuery=false&quotesQueryId=tss_match_phrase_query&multiQuoteQueryId=multi_quote_single_token_query&newsQueryId=news_ss_symbols&enableCb=false&enableNavLinks=false&vespaNewsTimeoutMs=600\";\n  \n        let body = {\n            \"url\": searchApi\n        };\n\n        const response = await axios.post(\"https://us-central1-stockwatch-193209.cloudfunctions.net/getstocks\", body);  \n        callback();\n        return response.data.quotes;\n    }\n  )","import { createSlice } from '@reduxjs/toolkit'\nimport { getwatchliststocks, getStocksDetailsApi, addstocktowatchlist, removestockfromwatchlist, searchstockApi } from \"./watchlistApi\";\n\nconst initialState = {\n  stockprices: {},\n  searchterm: \"\",\n  searchlist: [],\n  watchlist: [],\n}\n\nexport const watchlistslice = createSlice({\n  name: 'watchlist',\n  initialState,\n  reducers: {\n    setsearchtermR: (state, action) => {\n      state.searchterm = action.payload;\n    }\n  },\n    extraReducers: (builder) => {\n    // Add reducers for additional action types here, and handle loading state as needed\n    builder.addCase(getwatchliststocks.fulfilled, (state, action) => {\n      state.watchlist = action.payload\n    });\n    builder.addCase(getStocksDetailsApi.fulfilled, (state, action) => {\n      state.stockprices = action.payload;\n    });\n    builder.addCase(addstocktowatchlist.fulfilled, (state, action) => {\n      //do nothing\n    });\n    builder.addCase(removestockfromwatchlist.fulfilled, (state, action) => {\n      //do nothing\n    });\n    builder.addCase(searchstockApi.fulfilled, (state, action) => {\n      // console.log(\"Success Action: \", action.payload);\n      //do nothing\n      state.searchlist = action.payload\n    });    \n  },\n})\n\n// Action creators are generated for each case reducer function\nexport const { setsearchtermR } = watchlistslice.actions\n\nexport default watchlistslice.reducer","import axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from 'react-redux'\nimport { setsearchtermR } from './watchlistslice';\nimport { getwatchliststocks, getStocksDetailsApi, addstocktowatchlist, removestockfromwatchlist, searchstockApi } from \"./watchlistApi\";\n\nfunction WatchList() {\n  const dispatch = useDispatch();\n\n  const stockpricesR = useSelector((state) => state.watchlist.stockprices);  \n  const searchlistR = useSelector((state) => state.watchlist.searchlist);\n  const searchTermR = useSelector((state) => state.watchlist.searchterm);\n  const watchlistR = useSelector((state) => state.watchlist.watchlist);\n\n  // useEffect(() => {\n  //   const delayDebounceFn = setTimeout(() => {\n  //     console.log(searchTermR)\n  //     // Send Axios request here\n  //     // searchStock();\n  //   }, 3000)\n\n  //   return () => clearTimeout(delayDebounceFn)\n  // },[searchTermR]);\n\n  const handleChange = (event) => {\n    dispatch(setsearchtermR(event.target.value));\n    if (searchTermR.length == 0) {\n        return;\n    }\n    // searchStock();\n  };\n\n  const handleKeypress = (e) => {\n    //it triggers by pressing the enter key\n    if (e.keyCode === 13) {\n        if (searchTermR.length == 0) {\n            alert(\"Please enter name of stock\");\n            return;\n          }\n      searchStock();\n    }\n  };\n\n  const searchStock = () => {\n    let objP = {};\n    objP.searchTermR = searchTermR+\"\";\n    objP.callback = () => {};\n    dispatch(searchstockApi(objP));\n  };\n\n  const removeStock = (stockSymbol) => {\n      let objP = {};\n      objP.stockSymbol = stockSymbol;\n      objP.callback = () => { \n        dispatch(getwatchliststocks((stocksData)=>{\n          dispatch(getStocksDetailsApi(stocksData));\n        }));\n      }\n\n    dispatch(removestockfromwatchlist(objP));\n  }\n\n  useEffect(() => {\n    dispatch(getwatchliststocks((stocksData)=>{\n      dispatch(getStocksDetailsApi(stocksData));\n    }));\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <input\n        type=\"text\"\n        placeholder=\"Search\"\n        value={searchTermR}\n        onChange={handleChange}\n        onKeyDown={handleKeypress}\n      />\n      <button\n        onClick={() => {\n          searchStock();\n        }}\n      >\n        {\" \"}\n        Search{\" \"}\n      </button>\n      <table border=\"1px solid black;\">\n        <th>Search List</th>\n        <tr>\n          <th>{\"Exchange\"}</th>\n          <th>{\"Name\"}</th>\n        </tr>\n        {searchlistR.map((item) => {\n          return (\n            <tr>\n              <td>{item.exchDisp}</td> <td>{item.shortname}</td>{\" \"}\n              <td>\n                {\n                  <button\n                    onClick={() => {\n                      \n                      let objP = {};\n                      objP.stock = item;\n                      objP.callback = () => { \n                        dispatch(getwatchliststocks((stocksData)=>{\n                          dispatch(getStocksDetailsApi(stocksData));\n                        }));\n                      };\n                      \n                      dispatch(addstocktowatchlist(\n                        objP\n                      ));\n                    }}\n                  >\n                    Add\n                  </button>\n                }\n              </td>\n            </tr>\n          );\n        })}\n      </table>\n\n      <br/>\n      <div style={{display:\"flex\", flexDirection:\"row\"}}>\n      <table border=\"1px solid black;\">\n        <tr><th>WatchList</th></tr>\n        {watchlistR.length > 0 ? (\n          <tr>\n            <th>{\"Exchange\"}</th>\n            <th>{\"Name\"}</th> \n            <th>{\"Price\"}</th>\n          </tr>\n        ) : null}\n        {watchlistR.map((item) => {\n          return (\n            <tr>\n              <td>{item.exchDisp}</td> <td>{item.shortname}</td>{\" \"}\n              <td>\n                {stockpricesR[item.symbol]}\n                {\"  \"}\n              </td>\n              <td>{<button onClick={()=>removeStock(item.symbol)}>Remove</button>}</td>\n              {/* <td>{JSON.stringify(item)}</td> */}\n            </tr>\n          );\n        })}\n      </table>\n      </div>\n    </div>\n  );\n}\n\nexport default WatchList;\n","import { createAsyncThunk } from '@reduxjs/toolkit'\nimport axios from \"axios\";\n\nexport const getstrategies = createAsyncThunk(\n    'getstrategies',\n    async (callback, thunkAPI) => {\n      const response = await axios.get('https://us-central1-stockwatch-193209.cloudfunctions.net/strategy');  \n      callback(response.data);\n      return response.data;\n    }\n  )\n\nexport const deletestrategy = createAsyncThunk(\n    'deletestrategy',\n    async ({strategy, callback}, thunkAPI) => {\n      const response = await axios.post('https://us-central1-stockwatch-193209.cloudfunctions.net/strategy/delete', strategy);  \n      callback(response.data);\n      return response.data;\n    }\n)\n\nexport const addstrategy = createAsyncThunk(\n    'addstrategy',\n    async ({strategy, callback}, thunkAPI) => {\n      const response = await axios.post('https://us-central1-stockwatch-193209.cloudfunctions.net/strategy', strategy);  \n      callback(response.data);\n      return response.data;\n    }\n)\n","import axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getwatchliststocks, getStocksDetailsApi, addstocktowatchlist, removestockfromwatchlist, searchstockApi } from \"../watchlist/watchlistApi\";\nimport { getstrategies, deletestrategy, addstrategy } from \"./strategiesApi\";\n\nfunction Strategies() {\n  const dispatch = useDispatch();\n\n  const [searchTerm, setSearchTerm] = React.useState(\"\");\n  const [searchResults, setSearchResults] = React.useState([]);\n  const [watchList, setWatchList] = React.useState([]);\n  const [strategies, setStrategies] = React.useState([]);\n  const [strategyfilter, setStrategyFilter] = React.useState(\"\");\n\n  const stockpricesR = useSelector((state) => state.watchlist.stockprices);  \n  const searchlistR = useSelector((state) => state.watchlist.searchlist);\n  const searchTermR = useSelector((state) => state.watchlist.searchterm);\n  const watchlistR = useSelector((state) => state.watchlist.watchlist);\n  const strategiesR = useSelector((state) => state.strategies.strategies);\n\n  const handleChange = (event) => {\n    setSearchTerm(event.target.value);\n  };\n\n  const handleKeypress = (e) => {\n    //it triggers by pressing the enter key\n    if (e.keyCode === 13) {\n      searchStock();\n    }\n  };\n\n  const searchStock = () => {\n    if (searchTerm.length == 0) {\n      alert(\"Please enter name of stock\");\n      return;\n    }\n\n    let searchApi =\n      \"https://query2.finance.yahoo.com/v1/finance/search?q=\" +\n      searchTerm +\n      \"&quotesCount=6&newsCount=0&enableFuzzyQuery=false&quotesQueryId=tss_match_phrase_query&multiQuoteQueryId=multi_quote_single_token_query&newsQueryId=news_ss_symbols&enableCb=false&enableNavLinks=false&vespaNewsTimeoutMs=600\";\n    axios\n      .request({\n        method: \"get\",\n        url: `https://api.allorigins.win/get?url=${encodeURIComponent(\n          searchApi\n        )}`,\n      })\n      .then((response) => {\n        console.log(response);\n        setSearchResults(JSON.parse(response.data.contents).quotes);\n      });\n  };\n\n  useEffect(() => {\n    // getAllStocks();\n    // getAllStrategies();\n    dispatch(getstrategies((data)=>{\n      // alert(JSON.stringify(data));\n    }));\n  }, []);\n\n  return (\n    <div className=\"App\">\n          <div style={{display:\"flex\", flexDirection:\"column\", marginLeft:10}}>\n        <input\n          style={{width:\"300px\"}}\n          type=\"text\"\n          placeholder=\"Strategy Name\"\n          value={searchTerm}\n          onChange={handleChange}\n          onKeyDown={handleKeypress}\n        />\n        <button\n          style={{width:\"100px\", marginTop:2}}\n          onClick={() => {\n            let objP = {};\n            objP.strategy = {name: searchTerm};\n            objP.callback = () => {\n              dispatch(getstrategies((data)=>{\n                      \n              }));\n            };\n\n            dispatch(addstrategy(objP));\n          }}\n        >\n          Add Strategy\n        </button>\n      </div>\n      <br/><br/>\n\n       <div style={{display:\"flex\", flexDirection:\"row\"}}>\n      &nbsp;&nbsp;\n      <table border=\"1px solid black;\">\n        <tr><th>&nbsp;&nbsp;Strategy&nbsp;&nbsp;</th></tr>\n        {strategiesR.length > 0 ? (\n          <tr>\n            <th>{\"Name\"}</th> \n          </tr>\n        ) : null}\n        {strategiesR.map((item) => {\n          return (\n            <tr>\n              <td>{item.name}</td>\n              <td>{<button onClick={()=>{\n                let objP = {};\n                objP.strategy = item;\n                objP.callback = () => {\n                  dispatch(getstrategies((data)=>{\n                      \n                  }));\n                }\n                dispatch(deletestrategy(objP));\n              }}>Remove</button>}</td>\n              {/* <td>{JSON.stringify(item)}</td> */}\n            </tr>\n          );\n        })}\n      </table>\n      </div>\n\n        <div style={{display:\"flex\", flexDirection:\"row\", marginTop:20}}>\n         {strategiesR.map((item) => {\n          return (\n                <div\n                 onClick={()=>{\n                  setStrategyFilter(item.name);\n                 }}\n                style={{display:\"flex\", justifyContent:\"center\", alignItems:\"center\", backgroundColor: strategyfilter==item.name ? \"green\": \"grey\", padding:\"10px\", color:\"white\", borderRadius:30, margin: 10}}>{item.name}</div>\n          );\n        })}\n        </div>\n\n\n      \n      <br/>\n      <br/>\n      \n      \n      <div style={{display:\"flex\", flexDirection:\"column\", width:\"30%\", marginLeft:10}}>\n      <input\n        // style={{width:\"100%\"}}\n        type=\"text\"\n        placeholder=\"Search\"\n        value={searchTerm}\n        onChange={handleChange}\n        onKeyDown={handleKeypress}\n      />\n      <button\n        style={{width:\"40%\", marginTop:2}}\n        onClick={() => {\n          searchStock();\n        }}\n      >\n        {\" \"}\n        Search{\" \"}\n      </button>\n      </div>\n      <br/>\n      <br/>\n\n      <table border=\"1px solid black;\">\n        <th>Search List</th>\n        <tr>\n          <th>{\"Exchange\"}</th>\n          <th>{\"Name\"}</th>\n        </tr>\n        {searchlistR.map((item) => {\n          return (\n            <tr>\n              <td>{item.exchDisp}</td> <td>{item.shortname}</td>{\" \"}\n              <td>\n                {\n                  <button\n                    onClick={() => {\n                      \n                      let objP = {};\n                      objP.stock = item;\n                      objP.callback = () => { \n                        dispatch(getwatchliststocks((stocksData)=>{\n                          dispatch(getStocksDetailsApi(stocksData));\n                        }));\n                      };\n                      \n                      dispatch(addstocktowatchlist(\n                        objP\n                      ));\n                    }}\n                  >\n                    Add\n                  </button>\n                }\n              </td>\n            </tr>\n          );\n        })}\n      </table>\n\n      {/* {JSON.stringify()} */}\n      <div style={{display:\"flex\", flexDirection:\"row\"}}>\n      <table border=\"1px solid black;\">\n        <tr><th>WatchList</th></tr>\n        {watchlistR.length > 0 ? (\n          <tr>\n            <th>{\"Exchange\"}</th>\n            <th>{\"Name\"}</th> \n            <th>{\"Price\"}</th>\n          </tr>\n        ) : null}\n        {watchlistR.map((item) => {\n          return (\n            <tr>\n              <td>{item.exchDisp}</td> <td>{item.shortname}</td>{\" \"}\n              <td>\n                {stockpricesR[item.symbol]}\n                {\"  \"}\n              </td>\n              <td>{<button onClick={()=>{}}>Remove</button>}</td>\n              {/* <td>{JSON.stringify(item)}</td> */}\n            </tr>\n          );\n        })}\n      </table>\n      </div>\n\n    </div>\n  );\n}\n\nexport default Strategies;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { createSlice } from '@reduxjs/toolkit'\nimport { getstrategies, deletestrategy, addstrategy } from \"./strategiesApi\";\n\nconst initialState = {\n    strategies: [{ name: \"All Strategies\" }],\n}\n  \nexport const strategiesSlice = createSlice({\n    name: 'strategies',\n    initialState,\n    reducers: {},\n    extraReducers: (builder) => {\n        builder.addCase(getstrategies.fulfilled, (state, action) => {\n            state.strategies = action.payload;\n            state.strategies.unshift({ name: \"All Strategies\" });            \n        });\n        builder.addCase(deletestrategy.fulfilled, (state, action) => {\n            // console.log(\"Success Action: \", action.payload);\n            // state.strategies = action.payload\n        });\n        builder.addCase(addstrategy.fulfilled, (state, action) => {\n            // console.log(\"Success Action: \", action.payload);\n            // state.strategies = action.payload\n        });\n    }\n});\n\nexport default strategiesSlice.reducer","import { configureStore } from '@reduxjs/toolkit';\nimport watchlistReducer from \"./watchlist/watchlistslice\";\nimport strategiesReducer from \"./strategies/strategiesslice\";\n\nexport const store = configureStore({\n  reducer: {\n      watchlist: watchlistReducer,\n      strategies: strategiesReducer,\n  },\n})\n\n","import { Link } from \"react-router-dom\";\n\nexport default function Header() {\n  return (\n    <div>\n      <h1>Black Pearl</h1>\n      <nav\n        style={{\n          // borderBottom: \"solid 1px\",\n          paddingBottom: \"1rem\"\n        }}\n      >\n        <Link to=\"/bp/watchlist\">WatchList</Link> |{\"  \"}\n        <Link to=\"/bp/strategies\">Strategies</Link>\n      </nav>\n    </div>\n  );\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './app/App';\nimport WatchList from './app/watchlist';\nimport Strategies from './app/strategies';\nimport reportWebVitals from './reportWebVitals';\nimport {\n  BrowserRouter,\n  Routes,\n  Route,\n  HashRouter\n} from \"react-router-dom\";\nimport { store } from './app/store';\nimport { Provider } from 'react-redux';\nimport Header from \"./app/header\";\n\nReactDOM.render(\n<Provider store={store}>\n  <BrowserRouter>\n    <Header />\n    <Routes>\n      <Route path=\"/\">\n        <Route path=\"/bp/watchlist\" element={<WatchList />} />\n        <Route path=\"/bp/strategies\" element={<Strategies />} />\n      </Route>\n    </Routes>\n  </BrowserRouter>\n</Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}