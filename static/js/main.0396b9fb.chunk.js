(this.webpackJsonpblackpearl=this.webpackJsonpblackpearl||[]).push([[0],{32:function(t,e,c){},33:function(t,e,c){},59:function(t,e,c){"use strict";c.r(e);var n=c(1),s=c.n(n),r=c(12),a=c.n(r),o=(c(32),c(5)),l=(c(33),c(3)),i=c.n(l),h=c(0);var u=c(13),d=c(26),j=c(8),b=c(14),f=Object(b.b)({name:"watchlist",initialState:{stockprices:{},searchterm:"",searchlist:[],watchlist:[]},reducers:{setstockpricesR:function(t,e){t.stockprices=e.payload},setsearchtermR:function(t,e){t.searchterm=e.payload},setsearchlistR:function(t,e){t.searchlist=e.payload},setwatchlistR:function(t,e){t.watchlist=e.payload}}}),x=f.actions,O=x.setstockpricesR,p=x.setsearchtermR,m=x.setsearchlistR,k=x.setwatchlistR,g=f.reducer;var y=function(){var t=Object(j.b)(),e=Object(j.c)((function(t){return t.watchlist.stockprices})),c=Object(j.c)((function(t){return t.watchlist.searchlist})),s=Object(j.c)((function(t){return t.watchlist.searchterm})),r=Object(j.c)((function(t){return t.watchlist.watchlist})),a=function(){var e={url:"https://query2.finance.yahoo.com/v1/finance/search?q="+s+"&quotesCount=6&newsCount=0&enableFuzzyQuery=false&quotesQueryId=tss_match_phrase_query&multiQuoteQueryId=multi_quote_single_token_query&newsQueryId=news_ss_symbols&enableCb=false&enableNavLinks=false&vespaNewsTimeoutMs=600"};i.a.post("https://us-central1-stockwatch-193209.cloudfunctions.net/getstocks",e).then((function(e){t(m(e.data.quotes))}))},o=function(){i.a.request({method:"get",url:"https://us-central1-stockwatch-193209.cloudfunctions.net/stocks"}).then((function(e){console.log(e.data),t(k(e.data)),l(e.data)}))},l=function(e){var c={url:"https://query1.finance.yahoo.com/v7/finance/spark?symbols="+e.reduce((function(t,e){return""==t?e.symbol:t+","+e.symbol}),"")+"&range=1d&interval=5m&indicators=close&includeTimestamps=false&includePrePost=false&corsDomain=in.finance.yahoo.com&.tsrc=finance"};i.a.post("https://us-central1-stockwatch-193209.cloudfunctions.net/getstocks",c).then((function(e){console.log(e),console.log(e.data.spark.result[0].response[0].meta.regularMarketPrice);var c=b(e.data.spark.result);t(O(c))}))},b=function(t){return t.reduce((function(t,e){return Object(d.a)(Object(u.a)({},e.symbol,e.response[0].meta.regularMarketPrice),t)}),{})};return Object(n.useEffect)((function(){o()}),[]),Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("input",{type:"text",placeholder:"Search",value:s,onChange:function(e){t(p(e.target.value)),s.length},onKeyDown:function(t){if(13===t.keyCode){if(0==s.length)return void alert("Please enter name of stock");a()}}}),Object(h.jsxs)("button",{onClick:function(){a()},children:[" ","Search"," "]}),Object(h.jsxs)("table",{border:"1px solid black;",children:[Object(h.jsx)("th",{children:"Search List"}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Exchange"}),Object(h.jsx)("th",{children:"Name"})]}),c.map((function(t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:t.exchDisp})," ",Object(h.jsx)("td",{children:t.shortname})," ",Object(h.jsx)("td",{children:Object(h.jsx)("button",{onClick:function(){!function(t){i.a.request({method:"post",url:"https://us-central1-stockwatch-193209.cloudfunctions.net/stocks",data:t}).then((function(t){console.log(t.data),o()}))}(t)},children:"Add"})})]})}))]}),Object(h.jsx)("br",{}),Object(h.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:Object(h.jsxs)("table",{border:"1px solid black;",children:[Object(h.jsx)("tr",{children:Object(h.jsx)("th",{children:"WatchList"})}),r.length>0?Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Exchange"}),Object(h.jsx)("th",{children:"Name"}),Object(h.jsx)("th",{children:"Price"})]}):null,r.map((function(t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:t.exchDisp})," ",Object(h.jsx)("td",{children:t.shortname})," ",Object(h.jsxs)("td",{children:[e[t.symbol],"  "]}),Object(h.jsx)("td",{children:Object(h.jsx)("button",{onClick:function(){return e=t.symbol,void i.a.request({method:"post",url:"https://us-central1-stockwatch-193209.cloudfunctions.net/stocks/delete/"+e}).then((function(t){console.log(t.data),o()}));var e},children:"Remove"})})]})}))]})})]})};var w=function(){var t=s.a.useState(""),e=Object(o.a)(t,2),c=e[0],r=e[1],a=s.a.useState([]),l=Object(o.a)(a,2),u=l[0],d=l[1],j=s.a.useState([]),b=Object(o.a)(j,2),f=(b[0],b[1]),x=s.a.useState([]),O=Object(o.a)(x,2),p=O[0],m=O[1],k=function(){if(0!=c.length){var t="https://query2.finance.yahoo.com/v1/finance/search?q="+c+"&quotesCount=6&newsCount=0&enableFuzzyQuery=false&quotesQueryId=tss_match_phrase_query&multiQuoteQueryId=multi_quote_single_token_query&newsQueryId=news_ss_symbols&enableCb=false&enableNavLinks=false&vespaNewsTimeoutMs=600";i.a.request({method:"get",url:"https://api.allorigins.win/get?url=".concat(encodeURIComponent(t))}).then((function(t){console.log(t),d(JSON.parse(t.data.contents).quotes)}))}else alert("Please enter name of stock")},g=function(){i.a.request({method:"get",url:"https://us-central1-stockwatch-193209.cloudfunctions.net/stocks"}).then((function(t){console.log(t.data),f(t.data)}))};return Object(n.useEffect)((function(){g(),i.a.request({method:"get",url:"https://us-central1-stockwatch-193209.cloudfunctions.net/strategy"}).then((function(t){console.log(t.data),m(t.data)}))}),[]),Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("input",{type:"text",placeholder:"Search",value:c,onChange:function(t){r(t.target.value)},onKeyDown:function(t){13===t.keyCode&&k()}}),Object(h.jsxs)("button",{onClick:function(){k()},children:[" ","Search"," "]}),Object(h.jsxs)("table",{border:"1px solid black;",children:[Object(h.jsx)("th",{children:"SearchList"}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Exchange"}),Object(h.jsx)("th",{children:"Name"})," ",Object(h.jsx)("th",{children:"Price"})]}),u.map((function(t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:t.exchDisp})," ",Object(h.jsx)("td",{children:t.shortname})," ",Object(h.jsxs)("td",{children:[t.score,"  "]}),Object(h.jsx)("td",{children:Object(h.jsx)("button",{onClick:function(){!function(t){i.a.request({method:"post",url:"https://us-central1-stockwatch-193209.cloudfunctions.net/stocks",data:t}).then((function(t){console.log(t.data),g()}))}(t)},children:"Add"})})]})}))]}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:["\xa0\xa0",Object(h.jsxs)("table",{border:"1px solid black;",children:[Object(h.jsx)("tr",{children:Object(h.jsx)("th",{children:"Strategy"})}),p.length>0?Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Exchange"}),Object(h.jsx)("th",{children:"Name"}),Object(h.jsx)("th",{children:"Price"})]}):null,p.map((function(t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:t.name})," ",Object(h.jsx)("td",{children:t.name})," ",Object(h.jsxs)("td",{children:[t.score,"  "]}),Object(h.jsx)("td",{children:Object(h.jsx)("button",{onClick:function(){},children:"Remove"})})]})}))]})]})]})},v=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,60)).then((function(e){var c=e.getCLS,n=e.getFID,s=e.getFCP,r=e.getLCP,a=e.getTTFB;c(t),n(t),s(t),r(t),a(t)}))},q=c(9),C=c(2),_=Object(b.a)({reducer:{watchlist:g}});function S(){return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Black Pearl"}),Object(h.jsxs)("nav",{style:{paddingBottom:"1rem"},children:[Object(h.jsx)(q.b,{to:"/bp/watchlist",children:"WatchList"})," |","  ",Object(h.jsx)(q.b,{to:"/bp/strategies",children:"Strategies"})]})]})}a.a.render(Object(h.jsx)(j.a,{store:_,children:Object(h.jsxs)(q.a,{children:[Object(h.jsx)(S,{}),Object(h.jsx)(C.c,{children:Object(h.jsxs)(C.a,{path:"/",children:[Object(h.jsx)(C.a,{path:"/bp/watchlist",element:Object(h.jsx)(y,{})}),Object(h.jsx)(C.a,{path:"/bp/strategies",element:Object(h.jsx)(w,{})})]})})]})}),document.getElementById("root")),v()}},[[59,1,2]]]);
//# sourceMappingURL=main.0396b9fb.chunk.js.map