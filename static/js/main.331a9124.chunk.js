(this.webpackJsonpblackpearl=this.webpackJsonpblackpearl||[]).push([[0],{34:function(t,e,n){},35:function(t,e,n){},62:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n.n(c),s=n(15),a=n.n(s),i=(n(34),n(5)),l=(n(35),n(3)),o=n.n(l),u=n(0);var d=n(8),j=n(6),b=n(16),h=n(29),f=n(4),p=n.n(f),x=n(11),O=Object(j.b)("fetchByIdStatus",function(){var t=Object(x.a)(p.a.mark((function t(e,n){var c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("https://us-central1-stockwatch-193209.cloudfunctions.net/stocks");case 2:return c=t.sent,e(c.data),t.abrupt("return",c.data);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),m=Object(j.b)("getStocksDetailsApi",function(){var t=Object(x.a)(p.a.mark((function t(e,n){var c,r,s,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.reduce((function(t,e){return""==t?e.symbol:t+","+e.symbol}),""),r={url:"https://query1.finance.yahoo.com/v7/finance/spark?symbols="+c+"&range=1d&interval=5m&indicators=close&includeTimestamps=false&includePrePost=false&corsDomain=in.finance.yahoo.com&.tsrc=finance"},t.next=5,o.a.post("https://us-central1-stockwatch-193209.cloudfunctions.net/getstocks",r);case 5:return s=t.sent,n=s.data.spark.result,a=n.reduce((function(t,e){return Object(h.a)(Object(b.a)({},e.symbol,e.response[0].meta.regularMarketPrice),t)}),{}),t.abrupt("return",a);case 8:case"end":return t.stop()}var n}),t)})));return function(e,n){return t.apply(this,arguments)}}()),y=Object(j.b)("addstocktowatchlist",function(){var t=Object(x.a)(p.a.mark((function t(e,n){var c,r,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.stock,r=e.callback,t.next=3,o.a.post("https://us-central1-stockwatch-193209.cloudfunctions.net/stocks",c);case 3:return s=t.sent,r(),t.abrupt("return",s.status);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),k=Object(j.b)("removestockfromwatchlist",function(){var t=Object(x.a)(p.a.mark((function t(e,n){var c,r,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.stockSymbol,r=e.callback,t.next=3,o.a.post("https://us-central1-stockwatch-193209.cloudfunctions.net/stocks/delete/"+c);case 3:return s=t.sent,r(),t.abrupt("return",s.status);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),g=Object(j.b)("searchstockApi",function(){var t=Object(x.a)(p.a.mark((function t(e,n){var c,r,s,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.searchTermR,r=e.callback,s={url:"https://query2.finance.yahoo.com/v1/finance/search?q="+c+"&quotesCount=6&newsCount=0&enableFuzzyQuery=false&quotesQueryId=tss_match_phrase_query&multiQuoteQueryId=multi_quote_single_token_query&newsQueryId=news_ss_symbols&enableCb=false&enableNavLinks=false&vespaNewsTimeoutMs=600"},t.next=5,o.a.post("https://us-central1-stockwatch-193209.cloudfunctions.net/getstocks",s);case 5:return a=t.sent,r(),t.abrupt("return",a.data.quotes);case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),v=Object(j.c)({name:"watchlist",initialState:{stockprices:{},searchterm:"",searchlist:[],watchlist:[]},reducers:{setsearchtermR:function(t,e){t.searchterm=e.payload}},extraReducers:function(t){t.addCase(O.fulfilled,(function(t,e){t.watchlist=e.payload})),t.addCase(m.fulfilled,(function(t,e){t.stockprices=e.payload})),t.addCase(y.fulfilled,(function(t,e){})),t.addCase(k.fulfilled,(function(t,e){})),t.addCase(g.fulfilled,(function(t,e){t.searchlist=e.payload}))}}),w=v.actions.setsearchtermR,C=v.reducer;var S=function(){var t=Object(d.b)(),e=Object(d.c)((function(t){return t.watchlist.stockprices})),n=Object(d.c)((function(t){return t.watchlist.searchlist})),r=Object(d.c)((function(t){return t.watchlist.searchterm})),s=Object(d.c)((function(t){return t.watchlist.watchlist})),a=function(){var e={};e.searchTermR=r+"",e.callback=function(){},t(g(e))};return Object(c.useEffect)((function(){t(O((function(e){t(m(e))})))}),[]),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("input",{type:"text",placeholder:"Search",value:r,onChange:function(e){t(w(e.target.value)),r.length},onKeyDown:function(t){if(13===t.keyCode){if(0==r.length)return void alert("Please enter name of stock");a()}}}),Object(u.jsxs)("button",{onClick:function(){a()},children:[" ","Search"," "]}),Object(u.jsxs)("table",{border:"1px solid black;",children:[Object(u.jsx)("th",{children:"Search List"}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Exchange"}),Object(u.jsx)("th",{children:"Name"})]}),n.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.exchDisp})," ",Object(u.jsx)("td",{children:e.shortname})," ",Object(u.jsx)("td",{children:Object(u.jsx)("button",{onClick:function(){var n={};n.stock=e,n.callback=function(){t(O((function(e){t(m(e))})))},t(y(n))},children:"Add"})})]})}))]}),Object(u.jsx)("br",{}),Object(u.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:Object(u.jsxs)("table",{border:"1px solid black;",children:[Object(u.jsx)("tr",{children:Object(u.jsx)("th",{children:"WatchList"})}),s.length>0?Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Exchange"}),Object(u.jsx)("th",{children:"Name"}),Object(u.jsx)("th",{children:"Price"})]}):null,s.map((function(n){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:n.exchDisp})," ",Object(u.jsx)("td",{children:n.shortname})," ",Object(u.jsxs)("td",{children:[e[n.symbol],"  "]}),Object(u.jsx)("td",{children:Object(u.jsx)("button",{onClick:function(){return function(e){var n={};n.stockSymbol=e,n.callback=function(){t(O((function(e){t(m(e))})))},t(k(n))}(n.symbol)},children:"Remove"})})]})}))]})})]})},q=Object(j.b)("getstrategies",function(){var t=Object(x.a)(p.a.mark((function t(e,n){var c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("https://us-central1-stockwatch-193209.cloudfunctions.net/strategy");case 2:return c=t.sent,e(c.data),t.abrupt("return",c.data);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),_=Object(j.b)("deletestrategy",function(){var t=Object(x.a)(p.a.mark((function t(e,n){var c,r,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.strategy,r=e.callback,t.next=3,o.a.post("https://us-central1-stockwatch-193209.cloudfunctions.net/strategy/delete",c);case 3:return s=t.sent,r(s.data),t.abrupt("return",s.data);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),D=Object(j.b)("addstrategy",function(){var t=Object(x.a)(p.a.mark((function t(e,n){var c,r,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.strategy,r=e.callback,t.next=3,o.a.post("https://us-central1-stockwatch-193209.cloudfunctions.net/strategy",c);case 3:return s=t.sent,r(s.data),t.abrupt("return",s.data);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());var N=function(){var t=Object(d.b)(),e=r.a.useState(""),n=Object(i.a)(e,2),s=n[0],a=n[1],l=r.a.useState([]),j=Object(i.a)(l,2),b=(j[0],j[1]),h=r.a.useState([]),f=Object(i.a)(h,2),p=(f[0],f[1],r.a.useState([])),x=Object(i.a)(p,2),k=(x[0],x[1],r.a.useState("")),g=Object(i.a)(k,2),v=g[0],w=g[1],C=Object(d.c)((function(t){return t.watchlist.stockprices})),S=Object(d.c)((function(t){return t.watchlist.searchlist})),N=(Object(d.c)((function(t){return t.watchlist.searchterm})),Object(d.c)((function(t){return t.watchlist.watchlist}))),I=Object(d.c)((function(t){return t.strategies.strategies})),L=function(t){a(t.target.value)},R=function(t){13===t.keyCode&&P()},P=function(){if(0!=s.length){var t="https://query2.finance.yahoo.com/v1/finance/search?q="+s+"&quotesCount=6&newsCount=0&enableFuzzyQuery=false&quotesQueryId=tss_match_phrase_query&multiQuoteQueryId=multi_quote_single_token_query&newsQueryId=news_ss_symbols&enableCb=false&enableNavLinks=false&vespaNewsTimeoutMs=600";o.a.request({method:"get",url:"https://api.allorigins.win/get?url=".concat(encodeURIComponent(t))}).then((function(t){console.log(t),b(JSON.parse(t.data.contents).quotes)}))}else alert("Please enter name of stock")};return Object(c.useEffect)((function(){t(q((function(t){})))}),[]),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginLeft:10},children:[Object(u.jsx)("input",{style:{width:"300px"},type:"text",placeholder:"Strategy Name",value:s,onChange:L,onKeyDown:R}),Object(u.jsx)("button",{style:{width:"100px",marginTop:2},onClick:function(){var e={};e.strategy={name:s},e.callback=function(){t(q((function(t){})))},t(D(e))},children:"Add Strategy"})]}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:["\xa0\xa0",Object(u.jsxs)("table",{border:"1px solid black;",children:[Object(u.jsx)("tr",{children:Object(u.jsx)("th",{children:"\xa0\xa0Strategy\xa0\xa0"})}),I.length>0?Object(u.jsx)("tr",{children:Object(u.jsx)("th",{children:"Name"})}):null,I.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.name}),Object(u.jsx)("td",{children:Object(u.jsx)("button",{onClick:function(){var n={};n.strategy=e,n.callback=function(){t(q((function(t){})))},t(_(n))},children:"Remove"})})]})}))]})]}),Object(u.jsx)("div",{style:{display:"flex",flexDirection:"row",marginTop:20},children:I.map((function(t){return Object(u.jsx)("div",{onClick:function(){w(t.name)},style:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:v==t.name?"green":"grey",padding:"10px",color:"white",borderRadius:30,margin:10},children:t.name})}))}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"30%",marginLeft:10},children:[Object(u.jsx)("input",{type:"text",placeholder:"Search",value:s,onChange:L,onKeyDown:R}),Object(u.jsxs)("button",{style:{width:"40%",marginTop:2},onClick:function(){P()},children:[" ","Search"," "]})]}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsxs)("table",{border:"1px solid black;",children:[Object(u.jsx)("th",{children:"Search List"}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Exchange"}),Object(u.jsx)("th",{children:"Name"})]}),S.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.exchDisp})," ",Object(u.jsx)("td",{children:e.shortname})," ",Object(u.jsx)("td",{children:Object(u.jsx)("button",{onClick:function(){var n={};n.stock=e,n.callback=function(){t(O((function(e){t(m(e))})))},t(y(n))},children:"Add"})})]})}))]}),Object(u.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:Object(u.jsxs)("table",{border:"1px solid black;",children:[Object(u.jsx)("tr",{children:Object(u.jsx)("th",{children:"WatchList"})}),N.length>0?Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Exchange"}),Object(u.jsx)("th",{children:"Name"}),Object(u.jsx)("th",{children:"Price"})]}):null,N.map((function(t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:t.exchDisp})," ",Object(u.jsx)("td",{children:t.shortname})," ",Object(u.jsxs)("td",{children:[C[t.symbol],"  "]}),Object(u.jsx)("td",{children:Object(u.jsx)("button",{onClick:function(){},children:"Remove"})})]})}))]})})]})},I=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,63)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,s=e.getLCP,a=e.getTTFB;n(t),c(t),r(t),s(t),a(t)}))},L=n(12),R=n(2),P=Object(j.c)({name:"strategies",initialState:{strategies:[{name:"All Strategies"}]},reducers:{},extraReducers:function(t){t.addCase(q.fulfilled,(function(t,e){t.strategies=e.payload,t.strategies.unshift({name:"All Strategies"})})),t.addCase(_.fulfilled,(function(t,e){})),t.addCase(D.fulfilled,(function(t,e){}))}}).reducer,Q=Object(j.a)({reducer:{watchlist:C,strategies:P}});function T(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"Black Pearl"}),Object(u.jsxs)("nav",{style:{paddingBottom:"1rem"},children:[Object(u.jsx)(L.b,{to:"/bp/watchlist",children:"WatchList"})," |","  ",Object(u.jsx)(L.b,{to:"/bp/strategies",children:"Strategies"})]})]})}a.a.render(Object(u.jsx)(d.a,{store:Q,children:Object(u.jsxs)(L.a,{children:[Object(u.jsx)(T,{}),Object(u.jsx)(R.c,{children:Object(u.jsxs)(R.a,{path:"/",children:[Object(u.jsx)(R.a,{path:"/bp/watchlist",element:Object(u.jsx)(S,{})}),Object(u.jsx)(R.a,{path:"/bp/strategies",element:Object(u.jsx)(N,{})})]})})]})}),document.getElementById("root")),I()}},[[62,1,2]]]);
//# sourceMappingURL=main.331a9124.chunk.js.map